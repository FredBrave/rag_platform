{% extends "main.html" %}
{% block content %}

<div class="home-container container">

    <div class="card">
        {% if user.is_authenticated %}
            <h2>¡Bienvenido, {{ user.username }}!</h2>
        {% else %}
            <h2>Necesitas iniciar sesión para ver esta página.</h2>
            <a href="{% url 'login' %}" class="btn-login">Iniciar sesión</a>
        {% endif %}
    </div>

    <div class="card">
        <h3>RAGs Públicos</h3>
        {% if public_rags %}
            <div class="rags-container">
                {% for rag in public_rags %}
                    <div class="rag-card">
                        <h4>{{ rag.nombre }}</h4>
                        <p>{{ rag.descripcion|truncatechars:100 }}</p>
                        <small>Modelo: {{ rag.modelo_llm }} | Embedding: {{ rag.embedding_model }}</small>
                    </div>
                    <hr>
                {% endfor %}
            </div>
        {% else %}
            <p>No se encontraron RAGs públicos.</p>
        {% endif %}
    </div>

</div>

{% endblock content %}
